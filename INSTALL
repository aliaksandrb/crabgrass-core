draft install instructions
===============================

install basic ruby environment:

  sudo apt-get install ruby1.8 ruby-dev rake libmysql-ruby mysql-server git

install rubygems from rubygems.org:

  download rubygems-x.x.x.tgz from http://rubygems.org
  extract the tarball, and cd to the directory
  sudo ruby setup.rb --no-format-executable

prevent rubygems from installing rdoc (optional):

  edit ~/.gemrc and add this:
  gem: --no-rdoc --no-ri

install required gems:

  cd crabgrass-core
  sudo gem install rails --version='2.3.11'
  mkdir log
  touch log/development.log
  rake create_a_secret
  sudo rake gems:install

create the database:

  sudo mysqladmin create dismod_development
  rake db:schema:load
  rake db:fixtures:load

install helper applications:

  sudo apt-get install graphicsmagick

  # install sphinx, which is complicated
  sudo apt-get install libmysqlclient-dev
  # download sphinx from http://sphinxsearch.com/downloads/
  # unzip and enter directory
  ./configure
  make
  sudo make install

run server:

  INFO=1 BOOST=1 script/server

connect to the web application from your browser:

  http://localhost:3000
  login: blue
  password: blue

See doc/development_tips for information on the arguments to script/server


development
============================

additional gems needed for testing:

  sudo RAILS_ENV=test rake gems:install

testing database:

  sudo mysqladmin create crabgrass_test
  rake db:test:prepare

run tests:

  rake test

database options
===============================

The simple instructions assume you have a mysql user 'root' with no password set. If you are a glutton for punishment, you can set a user and password for crabgrass development:

add a database user 'crabgrass':

  > mysql --user root -p 
  mysql> use crabgrass_development;
  mysql> grant all on crabgrass_development.* to crabgrass@localhost identified by 'your_password';
  mysql> flush privileges;
  mysql> quit

in crabgrass/config/database.yml:

  username: crabgrass
  password: your_password


